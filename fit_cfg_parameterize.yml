datasets:
  data_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_data_D0_cut_slimmed.root
  samesign_data_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_same_sign_electrons_D0_cut.root
  rare_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_rare_D0_cut.root
  jpsi_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_jpsi_D0_cut_recorrected.root
  psi2s_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_psi2s_D0_cut_recorrected.root
  
  # default Jpsi
  kstar_jpsi_pion_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_kstar_jpsi_pion_D0_cut_corrected.root
  kstar_jpsi_kaon_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_kstar_jpsi_kaon_D0_cut_corrected.root
  k0star_jpsi_kaon_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_k0star_jpsi_kaon_D0_cut_corrected.root
  k0star_jpsi_pion_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_k0star_jpsi_pion_D0_cut_corrected.root
  chic1_jpsi_kaon_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_chic1_jpsi_kaon_D0_cut_corrected.root
  jpsipi_jpsi_kaon_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_jpsipi_jpsi_pion_D0_cut_corrected.root

  # # up kaon down pion
  # kstar_jpsi_pion_file: fit_parameterization/datafiles_sampled/measurement_kstar_jpsi_pion_D0_cut_down_half_sampled.root
  # kstar_jpsi_kaon_file: fit_parameterization/datafiles_sampled/measurement_kstar_jpsi_kaon_D0_cut_up_half_sampled.root
  # k0star_jpsi_kaon_file: fit_parameterization/datafiles_sampled/measurement_k0star_jpsi_kaon_D0_cut_up_half_sampled.root
  # k0star_jpsi_pion_file: fit_parameterization/datafiles_sampled/measurement_k0star_jpsi_pion_D0_cut_down_half_sampled.root
  # chic1_jpsi_kaon_file: fit_parameterization/datafiles_sampled/measurement_chic1_jpsi_kaon_D0_cut_up_half_sampled.root
  # jpsipi_jpsi_kaon_file: fit_parameterization/datafiles_sampled/measurement_jpsipi_jpsi_pion_D0_cut_down_half_sampled.root

  # # down kaon up pion
  # kstar_jpsi_pion_file: fit_parameterization/datafiles_sampled/measurement_kstar_jpsi_pion_D0_cut_up_half_sampled.root
  # kstar_jpsi_kaon_file: fit_parameterization/datafiles_sampled/measurement_kstar_jpsi_kaon_D0_cut_down_half_sampled.root
  # k0star_jpsi_kaon_file: fit_parameterization/datafiles_sampled/measurement_k0star_jpsi_kaon_D0_cut_down_half_sampled.root
  # k0star_jpsi_pion_file: fit_parameterization/datafiles_sampled/measurement_k0star_jpsi_pion_D0_cut_up_half_sampled.root
  # chic1_jpsi_kaon_file: fit_parameterization/datafiles_sampled/measurement_chic1_jpsi_kaon_D0_cut_down_half_sampled.root
  # jpsipi_jpsi_kaon_file: fit_parameterization/datafiles_sampled/measurement_jpsipi_jpsi_pion_D0_cut_up_half_sampled.root

  # # k(0)star_jpsi_kaon <-> k(0)star_jpsi_pion
  # kstar_jpsi_pion_file: fit_parameterization/datafiles_sampled/measurement_kstar_jpsi_pion_D0_cut_kaonWeighted.root
  # kstar_jpsi_kaon_file: fit_parameterization/datafiles_sampled/measurement_kstar_jpsi_kaon_D0_cut_pionWeighted.root
  # k0star_jpsi_kaon_file: fit_parameterization/datafiles_sampled/measurement_k0star_jpsi_kaon_D0_cut_pionWeighted.root
  # k0star_jpsi_pion_file: fit_parameterization/datafiles_sampled/measurement_k0star_jpsi_pion_D0_cut_kaonWeighted.root
  # chic1_jpsi_kaon_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_chic1_jpsi_kaon_D0_cut_corrected.root
  # jpsipi_jpsi_kaon_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_jpsipi_jpsi_pion_D0_cut_corrected.root

  # default Psi2S
  kstar_psi2s_pion_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_kstar_psi2s_pion_D0_cut_corrected.root
  k0star_psi2s_kaon_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_k0star_psi2s_kaon_D0_cut_corrected.root
  k0star_psi2s_pion_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_k0star_psi2s_pion_D0_cut_corrected.root
  # non-resonant
  kstar_pion_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_kstar_pion_D0_cut_wide_fit_corrected.root
  k0star_kaon_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_k0star_kaon_D0_cut_wide_fit_recorrected.root
  k0star_pion_file: /eos/cms/store/group/phys_bphys/DiElectronX/File_location_20_11_24/NoahBDToutput_WithTriggerORapplied_05_12_24/D0cutApplied/measurement_k0star_pion_D0_cut_wide_fit_corrected.root
  
  tree_name: mytree
  b_mass_branch: Bmass
  ll_mass_branch: Mll
  score_branch: bdt_score
  mc_weight_branch: trig_wgt

output:
  # output_dir: fitter_outputs/
  output_dir: fitter_outputs_wCoeffCons_minos/

fit:
  bdt_score_cut: 3.95
  regions:
    jpsi:
      fit_range: [4.6, 5.7]
      ll_mass_range: [2.9, 3.2]
      defaults:
        # Signal MC: dcb+dcb
        dcb1_coeff_sig_pdf:        [95961, 0., 200000]
        dcb1_mean_sig_pdf:         [5.28, 5.1, 5.4]
        dcb1_sigma_sig_pdf:        [0.05, 0.01, 0.5]
        dcb1_alpha1_sig_pdf:       [3.23, 1., 10.]
        dcb1_n1_sig_pdf:           [6.59, 0.1, 100.]
        dcb1_alpha2_sig_pdf:       [4.73, 1., 10.]
        dcb1_n2_sig_pdf:           [8.62, 0.1, 100.]
        dcb2_coeff_sig_pdf:        [20729, 0., 200000]
        dcb2_mean_sig_pdf:         [5.17, 5.1, 5.4]
        dcb2_sigma_sig_pdf:        [0.04, 0.01, 0.5]
        dcb2_alpha1_sig_pdf:       [2.25, 1., 6.]
        dcb2_n1_sig_pdf:           [1.63, 0.5, 100.]
        dcb2_alpha2_sig_pdf:       [2.85, .1, 6.]
        dcb2_n2_sig_pdf:           [7.86, 0.5, 100.]
        # Signal MC: CB(tail)+Gauss(main)
        gauss_mean_sig_pdf:   [5.28, 5.2, 5.4] # main
        gauss_sigma_sig_pdf:  [0.04, 0.01, 0.5]
        gauss_coeff_sig_pdf:  [95961, 0, 200000]
        cb_mean_sig_pdf:      [5.17, 5.0, 5.25] # tail
        cb_sigma_sig_pdf:     [0.05, 0.01, 0.5]
        cb_coeff_sig_pdf:     [20729, 0, 200000]
        cb_alpha_sig_pdf:     [2.25, 1., 6.]
        cb_n_sig_pdf:         [7.86, 0.5, 100]
        # # Signal MC: cb(main)+gauss(tail)
        # gauss_mean_sig_pdf:   [5.17, 5.0, 5.25] # Tail
        # gauss_sigma_sig_pdf:  [0.05, 0.01, 0.5]
        # gauss_coeff_sig_pdf:  [20729, 0, 200000]
        # cb_mean_sig_pdf:      [5.28, 5.2, 5.4] # main
        # cb_sigma_sig_pdf:     [0.04, 0.01, 0.5]
        # cb_coeff_sig_pdf:     [95961, 0, 200000]
        # cb_alpha_sig_pdf:     [2.25, 0.5, 6]
        # cb_n_sig_pdf:         [7.86, 0.5, 100]
        # Signal MC: cb+cb
        cb1_mean_sig_pdf:   [5.28, 5.2, 5.4] # cb1 as a main distribution
        cb1_sigma_sig_pdf:  [0.05, 0.01, 0.5]
        cb1_alpha_sig_pdf:  [3.23, 1., 10.]
        cb1_n_sig_pdf:      [6.59, 0.1, 50] # v1 =  [6.59, 0.1, 100.]
        cb1_coeff_sig_pdf:  [95961, 0, 200000]
        cb2_mean_sig_pdf:   [5.17, 5.0, 5.25] # radiative tail
        cb2_sigma_sig_pdf:  [0.04, 0.01, 0.5]
        cb2_alpha_sig_pdf:  [2.25, 1., 6.]
        cb2_n_sig_pdf:      [1.63, 0.5, 50] # v1 =  [1.63, 0.5, 100.]
        cb2_coeff_sig_pdf:  [20729, 0, 200000]
        # combinatorial bkg: exponential
        exp_slope_comb_bkg_pdf:    [-2.3, -5., 0.]
        exp_slope_part_bkg_pdf:    [5., 4.0, 10.]
        erfc_mean_part_bkg_pdf:    [5., 4.95, 5.05]
        erfc_sigma_part_bkg_pdf:   [0.03, 0.01, 0.06]
        # combinatorial bkg: poynomial 2nd/4th degree
        poly_a0_comb_bkg_pdf:  [1.0, 0, 10]
        poly_a1_comb_bkg_pdf:  [-1.39, -5.0, 0.]
        poly_a2_comb_bkg_pdf:  [0.97, 0.0, 5.0]
        poly_a3_comb_bkg_pdf:  [-0.45, -5.0, 0.]  # cross out to consider 2nd degree
        poly_a4_comb_bkg_pdf:  [0.16, 0.0, 5.0]   # cross out to consider 2nd degree
        poly_offset_comb_bkg_pdf: [0, -100.0, 100.0]
        # Partial reconstructed background kstar/k0star: kde
        kde_mirror_part_bkg_pdf: 'MirrorLeft'
        kde_rho_part_bkg_pdf:    2
        kde_mirror_part_bkg_pdf_kstar_kaon: 'MirrorLeft'
        kde_rho_part_bkg_pdf_kstar_kaon:    2
        # Jpsipi_pion partial bkg: dcb+dcb
        dcb1_coeff_part_bkg_pdf_jpsipi_pion:  [798.9, 0., 20000]
        dcb1_mean_part_bkg_pdf_jpsipi_pion:   [5.38, 5.2, 5.6]
        dcb1_sigma_part_bkg_pdf_jpsipi_pion:  [0.08, 0.01, 0.5]
        dcb1_alpha1_part_bkg_pdf_jpsipi_pion: [6.03, 0.1, 10.]
        dcb1_n1_part_bkg_pdf_jpsipi_pion:     [40.77, 0.1, 100.]
        dcb1_alpha2_part_bkg_pdf_jpsipi_pion: [1.0, 0.01, 10.]
        dcb1_n2_part_bkg_pdf_jpsipi_pion:     [78.05, 0.1, 100.]
        dcb2_coeff_part_bkg_pdf_jpsipi_pion:  [101.94, 0., 20000]
        dcb2_mean_part_bkg_pdf_jpsipi_pion:   [5.47, 5.2, 5.6]
        dcb2_sigma_part_bkg_pdf_jpsipi_pion:  [0.12, 0.01, 0.5]
        dcb2_alpha1_part_bkg_pdf_jpsipi_pion: [0.9, .01, 6.]
        dcb2_n1_part_bkg_pdf_jpsipi_pion:     [10.57, 0.5, 100.]
        dcb2_alpha2_part_bkg_pdf_jpsipi_pion: [0.75, .1, 6.]
        dcb2_n2_part_bkg_pdf_jpsipi_pion:     [14.58, 0.5, 100.]
        # Jpsipi_pion partial bkg: dcb
        dcb_coeff_part_bkg_pdf_jpsipi_pion:  [798.9, 0., 20000]
        dcb_mean_part_bkg_pdf_jpsipi_pion:   [5.38, 5.2, 5.6]
        dcb_sigma_part_bkg_pdf_jpsipi_pion:  [0.08, 0.01, 0.5]
        dcb_alpha1_part_bkg_pdf_jpsipi_pion: [6.03, 0.1, 10.]
        dcb_n1_part_bkg_pdf_jpsipi_pion:     [40.77, 0.1, 100.]
        dcb_alpha2_part_bkg_pdf_jpsipi_pion: [1.0, 0.01, 10.]
        dcb_n2_part_bkg_pdf_jpsipi_pion:     [78.05, 0.1, 100.]
    psi2s:
      fit_range: [4.6, 5.7]
      ll_mass_range: [3.55, 3.8]
      defaults:
        dcb1_coeff_sig_pdf:        [3000., 0., 100000]
        dcb1_mean_sig_pdf:         [5.32, 5.25, 5.35]
        dcb1_sigma_sig_pdf:        [0.08, 0.01, 0.5]
        dcb1_alpha1_sig_pdf:       [3., 1., 6.]
        dcb1_n1_sig_pdf:           [5., 0.5, 100.]
        dcb1_alpha2_sig_pdf:       [3., 1., 6.]
        dcb1_n2_sig_pdf:           [5., 0.5, 100.]
        dcb2_coeff_sig_pdf:        [1055., 0., 100000]
        dcb2_mean_sig_pdf:         [5.2, 5.1, 5.28]
        dcb2_sigma_sig_pdf:        [0.08, 0.01, 0.5]
        dcb2_alpha1_sig_pdf:       [3., 1., 6.]
        dcb2_n1_sig_pdf:           [5., 0.5, 100.]
        dcb2_alpha2_sig_pdf:       [3., 1., 6.]
        dcb2_n2_sig_pdf:           [5., 0.5, 100.]
        exp_slope_comb_bkg_pdf:    [-1., -3., 0.]
        exp_slope_part_bkg_pdf:    [5., 4.0, 10.]
        erfc_mean_part_bkg_pdf:    [5., 4.95, 5.05]
        erfc_sigma_part_bkg_pdf:   [0.03, 0.01, 0.06]
        kde_mirror_sig_pdf: 'NoMirror'
        kde_rho_sig_pdf:    2
        kde_mirror_part_bkg_pdf: 'MirrorLeft'
        kde_rho_part_bkg_pdf:    2
    lowq2:
      fit_range: [4.7, 5.7]
      ll_mass_range: [1.05, 2.45]
      blinded: [5.1, 5.4]
      toy_signal_yield: 96
      defaults:
        dcb_mean_sig_pdf:         [5.27, 5.2, 5.3]
        dcb_sigma_sig_pdf:        [0.046, 0.03, 0.07]
        dcb_alpha1_sig_pdf:       [0.77, 0.5, 2.]
        dcb_n1_sig_pdf:           [2.07, 1., 10.]
        dcb_alpha2_sig_pdf:       [1.62, 0.5, 3.]
        dcb_n2_sig_pdf:           [3.48, 1., 10.]
        exp_slope_comb_bkg_pdf:   [-1., -8., 0.]
        exp_slope_jpsi_bkg_pdf:   [-14.11, -50., 0.]
        gauss_mean_jpsi_bkg_pdf:  [4.505, 4.3, 4.8]
        gauss_sigma_jpsi_bkg_pdf: [.148, .02, .4]
        kde_mirror_jpsi_bkg_pdf:  'MirrorLeft'
        kde_rho_jpsi_bkg_pdf:      2
        kde_mirror_part_bkg_pdf:  'MirrorLeft'
        kde_rho_part_bkg_pdf:     2
